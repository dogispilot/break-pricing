<!-- Add or update these styles in your <style> section -->
<style>
  /* Grid container with 4 columns and 2 rows */
  .setDetails-grid-4col {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto;
    gap: 20px;
    margin-bottom: 20px;
  }
  /* Remove any border from highlight tiles */
  .highlight-tile {
    /* No border/stroke */
  }
  /* Increase the font size and weight in highlight tiles */
  .highlight-tile .detail-value {
    font-size: 2.5rem;
    font-weight: 900;
  }
</style>

<!-- Update the updateSetDetails() function in your script -->
<script>
  function updateSetDetails() {
    const selectedYear = document.getElementById("yearSelect").value;
    const selectedSet = document.getElementById("setSelect").value;
    const detailsDiv = document.getElementById("setDetails");

    if (!selectedYear || !selectedSet) {
      detailsDiv.innerHTML = "";
      return;
    }

    const setObj = setData.find(set => set.year === selectedYear && set.name === selectedSet);
    if (!setObj) {
      detailsDiv.innerHTML = "";
      return;
    }

    // Calculate derived values
    let cardsPerBox = (setObj.packs_per_box && setObj.cards_per_pack)
      ? Math.floor(setObj.packs_per_box * setObj.cards_per_pack * 10) / 10
      : NaN;
    let cardsPerCase = (setObj.packs_per_box && setObj.cards_per_pack && setObj.boxes_per_case)
      ? Math.floor(setObj.packs_per_box * setObj.cards_per_pack * setObj.boxes_per_case * 10) / 10
      : NaN;

    // Build grid with 2 rows, 4 columns:
    // Column 1: Highlight tile spanning two rows (Rookie Percentage)
    // Column 2: Stacked tiles: top (Boxes per Case), bottom (Packs per Box)
    // Column 3: Stacked tiles: top (Cards per Pack), bottom (Cards per Box)
    // Column 4: Highlight tile spanning two rows (Cards per Case)
    let html = `
      <div class="setDetails-grid-4col">
        <div class="detail-box highlight-tile" style="grid-column: 1; grid-row: 1 / span 2;">
          <div class="detail-value">${formatDetail(setObj.rookie_percentage, true)}</div>
          <div class="detail-label">Rookie Percentage</div>
        </div>
        <div class="detail-box" style="grid-column: 2; grid-row: 1;">
          <div class="detail-value">${formatDetail(setObj.boxes_per_case, false)}</div>
          <div class="detail-label">Boxes per Case</div>
        </div>
        <div class="detail-box" style="grid-column: 3; grid-row: 1;">
          <div class="detail-value">${formatDetail(setObj.cards_per_pack, false)}</div>
          <div class="detail-label">Cards per Pack</div>
        </div>
        <div class="detail-box highlight-tile" style="grid-column: 4; grid-row: 1 / span 2;">
          <div class="detail-value">${formatDetail(cardsPerCase, false)}</div>
          <div class="detail-label">Cards per Case</div>
        </div>
        <div class="detail-box" style="grid-column: 2; grid-row: 2;">
          <div class="detail-value">${formatDetail(setObj.packs_per_box, false)}</div>
          <div class="detail-label">Packs per Box</div>
        </div>
        <div class="detail-box" style="grid-column: 3; grid-row: 2;">
          <div class="detail-value">${formatDetail(cardsPerBox, false)}</div>
          <div class="detail-label">Cards per Box</div>
        </div>
      </div>
    `;
    // Append release date and notes
    html += `
      <p><strong>Release Date:</strong> ${setObj.release_date || "N/A"}</p>
      <p><strong>Box Breakdown:</strong> ${setObj.box_breakdown || "N/A"}
        <a href='javascript:void(0)' onclick='toggleSetNotes(this)' class='pill-button'>Read Set Notes</a>
      </p>
      <div class="set-notes" style="display:none;">
        <p><strong>Notes:</strong> ${setObj.notes || "N/A"}</p>
      </div>
    `;
    detailsDiv.innerHTML = html;
  }
</script>
